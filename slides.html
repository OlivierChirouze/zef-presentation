<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>How to build a mobile app to not get rich and famous</title>

    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/theme/white.css" id="theme">
    <link rel="stylesheet" href="dist/zef-presentation.css">
    <link rel="stylesheet" href="dist/futurise.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css">
</head>
<body>
<div class="reveal">
    <div class="slides">

        <!-- SECTION ------------------------------------------------------------------------------- title -->
        <section>
            <section id="title" class="title" data-background-image="images/template/background-title.jpg" data-auto-animate data-hide-timeline>
                <h1>How to build a mobile app to</h1>
                <h1>get rich and famous</h1>
            </section>
            <section class="title" data-background-image="images/template/background-title.jpg" data-auto-animate data-hide-timeline>
                <h1>How to build a mobile app to</h1>
                <h1 id="not">*not</h1>
                <h1>get rich and famous</h1>
            </section>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- intro -->
        <section id="intro" data-hide-timeline>
            <h1>üëã Hi!</h1>
            <div class="todo">photo</div>
            <div class="todo">Criteo logo</div>
            <aside class="notes" data-markdown>
Hi, I'm Olivier
- joined Criteo 6 years ago
- for the most part I was a software engineer in R&D
- 8 months ago I became dev lead
- but I'm gonna tell you a bit more about myself during this presentation
            </aside>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- survey -->
        <section id="survey" data-hide-timeline>
            <h1>üìä Quick poll</h1>
            <ul>
                <li class="fragment">
                    <span class="todo">img coder</span>
                    code
                    <aside class="notes" data-markdown>
- Who does **code** regularly?
                    </aside>
                </li>
                <li class="fragment">
                    <span class="todo">img sport</span>
                    sport
                    <aside class="notes" data-markdown>
- Who does **sport** regularly?
                    </aside>
                </li>
                <li class="fragment">
                    <span class="todo">logo</span> <a href="https://www.strava.com/features?hl=en-US" target="_top">Strava</a>
                    <aside class="notes" data-markdown>
- Who's a user of Strava?
    - Don't know what is Strava?
    - It's a kind of social network to track running or cycling runs
‚û°Ô∏è **click link** if needed
                    </aside>
                </li>
                <li class="fragment">
                    <span class="todo">img coder at night</span>
                    pet project
                    <aside class="notes" data-markdown>
- Who has or had a pet project?
    - Don't know what pet project is?
    - It's a project you decide to work on, aside of work, for fun.
    - Should you do it? I don't know. Let's find out?
                    </aside>
                </li>
            </ul>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- sport addict -->
        <section id="sport addict" data-hide-timeline>
            <aside class="notes" data-markdown>
A little bit more about me and we'll move to more interesting stuff
            </aside>

            <div class="todo">
                AI generated images of sports:
                (use r-stack")
                <ul>
                    <li class="fragment">
                        hiking
                        <aside class="notes" data-markdown>
- hiking
                        </aside>
                    </li>
                    <li class="fragment">
                        rock climbing
                        <aside class="notes" data-markdown>
- rock climbing
                        </aside>
                    </li>
                    <li class="fragment">
                        mountain biking
                        <aside class="notes" data-markdown>
- mountain biking
                        </aside>
                    </li>
                    <li class="fragment">
                        snowboarding
                        <aside class="notes" data-markdown>
- snowboarding
                        </aside>
                    </li>
                    <li class="fragment">
                        windsurfing
                        <aside class="notes" data-markdown>
- windsurfing
                        </aside>
                    </li>
                    <li class="fragment">
                        wind foiling
                        <aside class="notes" data-markdown>
- wind foiling
                        </aside>
                    </li>
                    <li class="fragment">
                        wing
                        <aside class="notes" data-markdown>
- wing
                        </aside>
                    </li>
                </ul>
            </div>

            <div class="todo fragment">
                ‚úÖ generative AI used
            </div>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- xpweb -->
        <section>
            <section id="xpweb" data-auto-animate data-hide-timeline>
                <h1>First pet project</h1>
                <aside class="notes" data-markdown>
- When started my career as a software engineer (a long time ago),
  - I discovered the agile methodology eXtreme Programming, very similar to SCRUM.
- created tool to manage it
                </aside>
            </section>

            <section data-auto-animate data-hide-timeline>
                <h1>First pet project</h1>

                <div>
                    <a href="https://sourceforge.net/projects/xpweb/" target="_top">XPWeb</a>
                </div>

                <aside class="notes" data-markdown>
- I called **XPWeb**
- continued to work on it when I left my first job and made it open source
- I made it available on the _obvious platform to publish_ which is...?
    - **Sourceforge**, of course!
    - We are in **2002** and Github will be invented 6 years later üòÖ
                </aside>
                <div class="fragment todo">
                    screenshots of XPWeb (use r-stack")
                    <aside class="notes" data-markdown>
- the tool allows to
  - create user stories
  - estimate them
  - display burndown charts
- sounds familiar?
### ‚û°Ô∏è Click Sourceforge link
- it's still available for download!
                    </aside>
                </div>
            </section>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- 2016 -->
        <section id="2016">
            <h1>‚è±Ô∏è 2016</h1>
            <aside class="notes" data-markdown>
Fast forward almost 15 years.

- Notice the thing that appeared at the bottom left?

## ‚û°Ô∏è Let's click it

- timeline diagram I'm going to be using during the presentation
  - at the bottom, **time** goes from left to right
  - we're going to progress on the **pet project**
  - **work** is at the top
  - and some interesting things will happen in between on the **_misc_** line

- I've worked in 4 different companies, I am now "architect" in a big company
- less and less coding
- feel the urge to write some lines of code for fun again

## ‚û°Ô∏è Let's go back to the main slides
            </aside>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- ü§ô idea -->
        <section>
            <section id="ü§ô idea" data-auto-animate>
                <h1>üí° the idea</h1>
            </section>
            <section data-auto-animate>
                <h1>üí° the idea</h1>
                <h2>water sports =</h2>
                <aside class="notes" data-markdown>
- remember about my watersports?
- what they have in common is they rely on:
                </aside>
                <ul>
                    <li class="fragment">
                        places
                        <aside class="notes" data-markdown>
- specific places (you need water, there can be dangers like currents)
                        </aside>
                    </li>
                    <li class="fragment">
                        weather
                        <aside class="notes" data-markdown>
- weather (mostly wind)
                        </aside>
                    </li>
                    <li class="fragment">
                        gear
                        <aside class="notes" data-markdown>
- gear (specific board and sail sizes depending on the conditions)
                        </aside>
                    </li>
                </ul>
            </section>
            <section data-auto-animate>
                <h1>üí° the idea</h1>
                <div class="container">
                    <div class="col fragment">
                        <h2>Like Strava</h2>
                        <ul>
                            <li class="fragment">
                                sessions
                            </li>
                            <li class="fragment">
                                maps
                            </li>
                            <li class="fragment">
                                statistics
                            </li>
                            <li class="fragment">
                                social
                            </li>
                            <li class="fragment">
                                gamification
                            </li>
                        </ul>
                    </div>
                    <div class="col fragment">
                        <h2>Like others</h2>
                        <ul>
                            <li class="fragment">
                                spots description
                            </li>
                            <li class="fragment">
                                weather forecast
                            </li>
                            <li class="fragment">
                                gear catalog
                            </li>
                            <li class="fragment">
                                notifications
                            </li>
                        </ul>
                    </div>
                    <div class="todo">Screenshots???</div>
                </div>
            </section>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- Start to work -->
        <section id="get to work">
            <section data-auto-animate>
                <h1>üí™ Let's get to work!</h1>
            </section>
            <section data-auto-animate>
                <h1>üí™ Let's get to work!</h1>
                <h2>I need to:</h2>
                <ul>
                    <li class="fragment">
                        üåßÔ∏è get weather forecast
                    </li>
                    <li class="fragment">
                        üñ•Ô∏è show a nice UI
                    </li>
                </ul>

                <aside class="notes" data-markdown>
- Unlike 15 years ago, there are now great tools to build a web site, I need to catch up.
- I choose one that is supposed to be light, simple, elegant
  - any guess?
                </aside>

            </section>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- Play framework -->
        <section id="Play framework">
            <h1><span class="todo">logo</span>Play framework</h1>

            <aside class="notes" data-markdown>
- it's MVC (Model View Controller) backend framework
  - kind of like PHP, for what I am concerned
- created ~2010-2012 (Play 2 written in Scala)
- used by LinkedIn


- I appreciate it, but it has one big drawback:
  - it is written in Scala
            </aside>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- Scala -->
        <section>
            <section id="scala" data-auto-animate>
                <h1><span class="todo">logo</span>Scala</h1>
            </section>

            <section data-auto-animate>
                <h1><span class="todo">logo</span>Scala</h1>

                <aside class="notes" data-markdown>
- Scala is a programming language
- There is a lot to say about Scala, but for this presentation I'm going to limit myself to a few points:
                </aside>

                <ul>
                    <li class="fragment">
                        functional programming
                    </li>
                    <li class="fragment">
                        powerful typing system
                    </li>
                    <li class="fragment">
                        elegant syntax
                    </li>
                    <li class="fragment">
                        deterministic
                    </li>
                </ul>

                <div class="todo">
                    code examples from WTF
                </div>

            </section>

            <section data-auto-animate>
                <h1><span class="todo">logo</span>Scala</h1>

                <aside class="notes" data-markdown>
- to sum-up
                </aside>

                <ul>
                    <li class="fragment">
                        a lot to learn
                    </li>
                    <li class="fragment">
                        super complicated
                    </li>
                </ul>

                <h2 class="fragment">
                    ...I love it ‚ù§Ô∏è
                </h2>

            </section>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- dev @ startup -->
        <section id="dev @ startup" data-switch-to-timeline>
            <h1>üñ•Ô∏è Dev job</h1>
            <aside class="notes" data-markdown>
## now, some interesting things happen outside of my pet project
- first I change job:
  - I go back to a developers position
  - in a small company where I will do lots of tasks
    - fun fact: they're using mostly PHP
- it's an adtech company and we need pipelines to manipulate data
            </aside>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- Spark -->
        <section id="Spark">
            <h1><span class="todo">logo</span> Spark</h1>
            <aside class="notes" data-markdown>
- we start using Spark, a big data processing framework
- I'm the only one in the team who knows Scala so I'm responsible for setting it up
            </aside>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- 2017 -->
        <section id="2017" data-visibility="hidden">
            <h1>2017</h1>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- üë∂ baby -->
        <section id="üë∂ baby">
            <h1>üë∂ baby</h1>
            <aside class="notes" data-markdown>
- Oh, and I also become a father ü•∞
            </aside>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- Scala.io conf -->
        <section id="Scala.io conf">
            <h1><span class="todo">logo</span> Scala.io conf</h1>
            <aside class="notes" data-markdown>
- I like Scala so much that I go to Scala.io conference
- Actually, I go there 3 times in total!

## ‚û°Ô∏è GO BACK TO SLIDES
            </aside>
            <aside class="notes" data-markdown>
- as the name implies, it's a conference about Scala, but not only.
- I see a lot of interesting talks, some that I even understand
            </aside>
            <div class="fragment">
                <div class="todo">photo</div> Guillaume Bort
                <aside class="notes" data-markdown>
- I also meet the creator of Play Framework, Guillaume Bort
  - who happens to work for Criteo at the time!
                </aside>

            </div>
            <div class="fragment">
                <div class="todo">photo</div> Flavien Coronini
                <aside class="notes" data-markdown>
- and... Flavien Coronini
  - a Criteo **recruiter**
                </aside>

            </div>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- ScalaJs -->

        <section>
            <section data-auto-animate>
                <h1 class="inline">js</h1>
                <aside class="notes" data-markdown>
- With Scala I manage to:
  - download, parse and interpret weather forecast
- but now I need to **present things** nicely to users
- for some interactivity I will of course need **Javascript**
                </aside>

                <pre class="fragment">
                    <code data-trim class="language-javascript" data-line-numbers="1-3|5|6">
                        function add(a, b) {
                            return a + b;
                        }

                        console.log(add(5, 10)); // 15
                        console.log(add("5", 10)); // "510" üò±
                    </code>
                    <aside class="notes" data-markdown>
- problem: Javascript is quite error prone
                    </aside>
                </pre>
                <span class="fragment">
                    <aside class="notes" data-markdown>
- so I'll need something more robust

## üì£ Can you think of something?
                    </aside>
                </span>
            </section>

            <section data-auto-animate>
                <h1>scala.</h1>
                <h1>js</h1>
            </section>


            <section data-auto-animate id="ScalaJs">
                <h1>scala.js</h1>
                <ul>
                    <li class="fragment">Scala code for frontend app
                        <aside class="notes" data-markdown>
- use Scala language features to build dynamic user interfaces
                        </aside>
                    </li>
                    <li class="fragment"><strong>Compiled</strong> into JavaScript
                        <aside class="notes" data-markdown>
- Compiler takes Scala code and generates browser-compatible JavaScript.
                        </aside>
                    </li>
                    <li class="fragment"><strong>Reuse</strong> Scala code and libraries
                        <aside class="notes" data-markdown>
- Can share code with backend
                        </aside>
                    </li>
                </ul>
                <pre class="fragment">
                    <code data-trim class="language-scala" data-line-numbers="1-2|4|6|8|9">
                        import scala.scalajs.js
                        import scala.scalajs.js.annotation._

                        object Example extends js.JSApp {
                          def main(): Unit = {
                            def add(a: Int, b: Int): Int = a + b // Notice type for parameters

                            println(add(5, 10)) // 15
                            // println(add("5", 10)) // üëç _Compile-time_ error: type mismatch
                          }
                        }
                    </code>
                <aside class="notes" data-markdown>
- looks like this

## Looking good, no?
                </aside>
                </pre>
            </section>

            <section data-auto-animate>
                <h1>scala.js</h1>
                <aside class="notes" data-markdown>
- but this happens to quite strong limitations
- so I'll need something more standard...
                </aside>
               <ul>
                   <li class="fragment">
                       overly complicated
                   </li>
                   <li class="fragment">
                       limited interoperability & ecosystem
                   </li>
               </ul>


                <h2 class="fragment">
                    ...I don't even try it seriously üíî
                </h2>
            </section>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- 2018 -->
        <section id="2018" data-visibility="hidden">
            <h1>2018</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- Typescript -->
        <section>
            <section id="Typescript" data-auto-animate>
                <h1>TypeScript</h1>
                <aside class="notes" data-markdown>
- Of course I look at **TypeScript**
                </aside>
                <ul>
                    <li class="fragment">Superset of JavaScript, <strong>with types</strong>
                        <aside class="notes" data-markdown>
- **adds** optional static types on top of JavaScript
  - so it is backward compatible
                        </aside>
                        <ul>
                            <li class="fragment">compatible with javascript</li>
                        </ul>
                    </li>
                    <li class="fragment">Improves code quality and tooling
                        <aside class="notes" data-markdown>
- Types help **catch errors** early
- enable editor **autocompletion**
                        </aside>
                    </li>
                    <li class="fragment">Compiles to plain JavaScript
                        <aside class="notes" data-markdown>
- The TypeScript compiler emits standard JS for any browser.
                        </aside>
                    </li>
                </ul>
            </section>

            <section data-auto-animate>
                <pre data-id="code-block">
                    <code data-trim class="language-javascript" data-line-numbers>
                        function add(a, b) {
                            return a + b;
                        }

                        console.log(add(5, 10)); // 15
                        console.log(add("5", 10)); // "510" üò±
                    </code>
                <aside class="notes" data-markdown>
- remember the javascript code?
                </aside>
                </pre>
            </section>
            <section data-auto-animate>
                <pre data-id="code-block">
                    <code data-trim class="language-javascript" data-line-numbers>
                        function add(a: number, b: number): number {
                            return a + b;
                        }

                        console.log(add(5, 10)); // 15
                        console.log(add("5", 10)); // "510" üò±
                    </code>
                <aside class="notes" data-markdown>
- remember the javascript code?
                </aside>
                </pre>
            </section>
            <section data-auto-animate>
                <pre data-id="code-block">
                    <code data-trim class="language-typescript" data-line-numbers>
                        function add(a: number, b: number): number {
                            return a + b;
                        }

                        console.log(add(5, 10)); // 15
                        // console.log(add("5", 10)); // üëç _Compile-time_ error: Argument of type 'string' is not assignable to parameter of type 'number'.
                    </code>
                    <aside class="notes" data-markdown>
- here's the adapted Typescript code
                    </aside>
                </pre>
            </section>

            <section>
                <h1>Typescript</h1>
                <aside class="notes" data-markdown>
- Typescript typing system is great improves continuously
---

- it means that with types such as:
    - recursive type definitions
    - conditional types
    - type-level functions

---

- actually even Doom runs with types (not with typescript, just with **types**)
                </aside>

                <ul>
                    <li class="fragment">Amazing <strong>type system</strong>
                        <ul>
                            <li class="fragment">
                                <a href="https://github.com/microsoft/TypeScript/issues/14833" target="_top">Turing-complete</a>
                            </li>
                            <li class="fragment">
                                runs <a href="https://www.youtube.com/watch?v=0mCsluv5FXA" target="_top">Doom</a>
                            </li>
                        </ul>
                    </li>
                    <li class="fragment">Smooth integration with Javascript
                        <aside class="notes" data-markdown>
- Super easy to reuse javascript and node modules
- backward compatible
                        </aside>
                    </li>
                </ul>
                <h2 class="fragment">
                    ...I love it ‚ù§Ô∏è
                    <aside class="notes" data-markdown>
- now, to build something modern I will need a UI framework
  - which is the JS framework that most people use to build UIs?
                    </aside>
                </h2>
            </section>
        </section>



        <!-- SECTION ------------------------------------------------------------------------------- Angular -->
        <section>
        <section id="Angular">
            <h1>Angular</h1>
            <aside class="notes" data-markdown>
- for the first time I will learn a pure **frontend framework** to build modern web apps
            </aside>
            <ul>
                <li class="fragment">Web application framework created by Google
                </li>
                <li class="fragment"><strong>Component</strong>-based architecture
                    <aside class="notes" data-markdown>
- Break your UI into reusable and testable pieces.
                    </aside>
                </li>
                <li class="fragment">Two-way data binding
                    <aside class="notes" data-markdown>
- makes it easy to build **dynamic** UI
                    </aside>
                </li>
                <li class="fragment">Based on <strong>observable</strong> object from RxJs library

                </li>
            </ul>
            </section>
            <section data-auto-animate>
                <h1>RxJs</h1>
                <pre class="fragment">
                <code data-trim class="language-typescript" data-line-numbers="1-3|5|6|7-8|9-10|11-12|15|16-21|22-26|28-31">
                    const query = this.auth.loggedRider$.pipe(
                      switchMap(loggedRider => (loggedRider ? this.queries.getBooking : this.queries.getBooking_public).call$(this.bookingId))
                    );

                    query.pipe(
                      tap(entity => this.entity = getBookingEntity(entity)),
                      switchMap(entity => this.spotDays.getEntityById$(entity.spotDayId).pipe(
                        tap(spotDay => this.spotDay = spotDay),
                        switchMap(spotDay => this.spots.getEntityById$(spotDay.spotId)),
                        tap(spot => this.spot = spot),
                        switchMap(() => entity.spotLaunchId ? this.spotLaunches.getEntityById$(entity.spotLaunchId) : of(null)),
                        tap(spotLaunch => this.spotLaunch = spotLaunch),
                        map(() => entity)
                      )),
                      switchMap(entity => this.auth.isLoggedIn
                            ? this.riders.getEntityById$(entity.riderId).pipe(
                                filterNullish(),
                                map(actor => ({
                                  ...entity,
                                  actor
                                }) as BookingWithBooker))
                            : of({
                              ...entity,
                              actor: FakePipe.getFakeRider(),
                              abstract: this.fake.getFakeAbstract()
                            }) as BookingWithBooker))
                      ),
                      tap(entity => this.entityWithActor = entity),
                      tap(() => this.onLoaded?.emit()),
                      untilDestroyed(this)
                    ).subscribe();
                </code>
            </pre>
            </section>
                <section data-auto-animate>
                    <h1>RxJs</h1>
                    <ul>
                        <li class="fragment">powerful</li>
                        <li class="fragment">complex</li>
                    </ul>
            <h2 class="fragment" id="fake-love">
                ...I love it ‚ù§Ô∏è
                <aside class="notes" data-markdown>
- it's super practical to build UIs
- quite a bit of boilerplate
- I have fun with RxJs
                </aside>
            </h2>
            <h2 class="fragment">
                ...I like it ‚ù§Ô∏è‚Äçü©π
            </h2>
        </section>
        </section>


        <!-- SECTION ------------------------------------------------------------------------------- Ionic -->
        <section>
            <section>
            <div class="todo">share of traffic img</div>
                <aside class="notes" data-markdown>
- But the world has changed! most people use a smartphone nowadays
- I look at tools to help me build a _responsive_ web site and a mobile app
                </aside>
            </section>

        <section id="Ionic">

            <h1 class="fragment">Ionic</h1>
            <aside class="notes" data-markdown>
I look at **Ionic**
            </aside>
            <ul>
                <li class="fragment">Hybrid mobile app framework
                    <aside class="notes" data-markdown>
- Ionic lets you build mobile apps with web technologies.
                    </aside>
                </li>
                <li class="fragment">Reusable and platform-specific <a href="https://ionicframework.com/docs/api/radio#object-value-references" target="_top">UI components</a>
                    <aside class="notes" data-markdown>
- Includes ready-made design elements for various platforms.

## ‚û°Ô∏è CLICK LINK
                    </aside>
                </li>
                <li class="fragment">Access native features
                    <aside class="notes" data-markdown>
- Integrates with plugins for camera, GPS, and more.
                    </aside>
                </li>
            </ul>
            <pre class="fragment">
                <code data-trim class="language-typescript" data-line-numbers="1|4-8|10">
                    import { Camera, CameraResultType } from '@capacitor/camera';

                    const takePicture = async () => {
                      const image = await Camera.getPhoto({
                        quality: 90,
                        allowEditing: true,
                        resultType: CameraResultType.Uri
                      });

                      imageElement.src = image.webPath;
                    };
                </code>
            </pre>
        </section>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- MongoDb -->
        <section>
            <section id="MongoDb" data-auto-animate>
                <aside class="notes" data-markdown>
- at my current job I discover noSQL database
- and more specifically MongoDb
                </aside>
                <h1>MongoDB</h1>
                <ul>
                    <li class="fragment"><strong>document</strong> database
                        <aside class="notes" data-markdown>
- Stores data as flexible JSON-like documents.
                        </aside>
                    </li>
                    <li class="fragment">Scalable and distributed
                        <aside class="notes" data-markdown>
- Designed to scale out across servers easily.
                        </aside>
                    </li>
                    <li class="fragment">Dynamic schemas
                        <aside class="notes" data-markdown>
- Adjust structure without downtime or migrations.
                        </aside>
                    </li>
                </ul>
            </section>
            <section data-auto-animate>
                <h1>MongoDB</h1>
                <aside class="notes" data-markdown>
For example, to get statistics on the sessions from a specific rider, I can simply do:
- get spot day for all sessions
- for sessions from this rider
- group by day and spot
- for each day and spot, get
    - the max speed
    - the sum of time spent on the water
- do more complicated stuff
- and some more
- and some more
- split per year/month/day
- then group again

----

- all that with a simple a clean query language
                </aside>
                <pre>
                    <code data-trim class="language-json" data-line-numbers="2-12|14-16|19-23|24-26|27-29|30-41|45-54|55-71|81-86|87-92|93-98|118-127">
                        [
                          {
                            "$lookup": {
                              "from": "spotDays",
                              "localField": "spotDayId",
                              "foreignField": "_id",
                              "as": "spotDay"
                            }
                          },
                          {
                            "$unwind": "$spotDay"
                          },
                          {
                            "$match": {
                              "riderId": "ghjvyKeWjxphtBeuy"
                            }
                          },
                          {
                            "$group": {
                              "_id": {
                                "dayInTz": "$dayInTz",
                                "spotId": "$spotDay.spotId"
                              },
                              "maxSpeedKmPerH": {
                                "$max": "$maxSpeedKmPerH"
                              },
                              "distanceKm": {
                                "$sum": "$distanceKm"
                              },
                              "durationSec": {
                                "$sum": {
                                  "$divide": [
                                    {
                                      "$subtract": [
                                        "$endDate",
                                        "$startDate"
                                      ]
                                    },
                                    1000
                                  ]
                                }
                              }
                            }
                          },
                          {
                            "$project": {
                              "dayInTz": "$_id.dayInTz",
                              "dimensions.spotId": "$_id.spotId",
                              "count": 1,
                              "maxSpeedKmPerH": 1,
                              "distanceKm": 1,
                              "durationSec": 1
                            }
                          },
                          {
                            "$project": {
                              "dayInTz": 1,
                              "count": 1,
                              "dimensions": 1,
                              "activities": 1,
                              "maxSpeedKmPerH": 1,
                              "distanceKm": 1,
                              "durationSec": 1,
                              "daySplit": {
                                "$split": [
                                  "$dayInTz",
                                  "/"
                                ]
                              }
                            }
                          },
                          {
                            "$project": {
                              "dayInTz": 1,
                              "count": 1,
                              "dimensions": 1,
                              "activities": 1,
                              "maxSpeedKmPerH": 1,
                              "distanceKm": 1,
                              "durationSec": 1,
                              "year": {
                                "$arrayElemAt": [
                                  "$daySplit",
                                  0
                                ]
                              },
                              "month": {
                                "$arrayElemAt": [
                                  "$daySplit",
                                  1
                                ]
                              },
                              "day": {
                                "$arrayElemAt": [
                                  "$daySplit",
                                  2
                                ]
                              }
                            }
                          },
                          {
                            "$group": {
                              "_id": "$dimensions",
                              "count_count": {
                                "$sum": 1
                              },
                              "count_maxSpeedKmPerH": {
                                "$max": "$maxSpeedKmPerH"
                              },
                              "count_distanceKm": {
                                "$sum": "$distanceKm"
                              },
                              "count_durationSec": {
                                "$sum": "$durationSec"
                              }
                            }
                          },
                          {
                            "$project": {
                              "dimensions": "$_id",
                              "count": "$count_count",
                              "maxSpeedKmPerH": "$count_maxSpeedKmPerH",
                              "distanceKm": "$count_distanceKm",
                              "durationSec": "$count_durationSec",
                              "_id": 0
                            }
                          }
                        ]
                    </code>
                </pre>
                <h2 class="fragment">
                    ...I love it ‚ù§Ô∏è
                </h2>
            </section>
            <section data-auto-animate>
                <h1>MongoDB</h1>
                <ul>
                    <li class="fragment">Build JSON queries with code
                        <aside class="notes" data-markdown>
jokes aside, what I like is to build the queries dynamically
                        </aside>
                    </li>
                    <li class="fragment">... type safe queries
                        <aside class="notes" data-markdown>
with type checking
                        </aside>
                    </li>
                </ul>
                <pre class="fragment">
                    <code data-trim class="language-typescript" data-line-numbers="5|1-4|2|3">
                        function selectBySpotId(spotDayId: Id): { [p: string]: string } {
                            const local_spotDayId: keyof Booking = 'spotDayId';
                            return { [local_spotDayId]: spotDayId };
                        }
                        return Bookings.find(selectBySpotId(spotDayId));
                    </code>
                </pre>
            </section>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- MeteorJS -->
        <section id="MeteorJS" data-switch-to-timeline>
            <h1>MeteorJS</h1>
            <ul>
                <li class="fragment">Full-stack JavaScript platform
                    <aside class="notes" data-markdown>
- Meteor includes server and client frameworks.
                    </aside>
                </li>
                <li class="fragment">Real-time by default
                    <aside class="notes" data-markdown>
- Data changes propagate instantly to the UI.
                    </aside>
                </li>
                <li class="fragment">Integrated build system
                    <aside class="notes" data-markdown>
- Automatic bundling and asset management.
                    </aside>
                </li>
            </ul>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- dev @ Criteo -->
        <section id="dev @ Criteo">
            <h1>dev @ Criteo</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- üè° rent a house -->
        <section id="üè° rent a house">
            <h1>üè° rent a house</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- 2019 -->
        <section id="2019">
            <h1>2019</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- CGrowth UI -->
        <section id="CGrowth UI">
            <h1>CGrowth UI</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- 2020 -->
        <section id="2020" data-visibility="hidden">
            <h1>2020</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- Leaflet -->
        <section id="Leaflet">
            <h1>Leaflet</h1>
            <ul>
                <li class="fragment">Lightweight mapping library
                    <aside class="notes" data-markdown>
- Open-source JS library for interactive maps.
                    </aside>
                </li>
                <li class="fragment">Mobile-friendly and performant
                    <aside class="notes" data-markdown>
- Optimized for smooth experience on all devices.
                    </aside>
                </li>
                <li class="fragment">Extensible via plugins
                    <aside class="notes" data-markdown>
- Add layers, controls, and custom features easily.
                    </aside>
                </li>
            </ul>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- Geoloc audiences -->
        <section id="Geoloc audiences">
            <h1>Geoloc audiences</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- 2021 -->
        <section id="2021" data-visibility="hidden">
            <h1>2021</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- github actions -->
        <section id="github actions">
            <h1>GitHub Actions</h1>
            <ul>
                <li class="fragment">CI/CD built into GitHub
                    <aside class="notes" data-markdown>
- Automate tests and deployments on code changes.
                    </aside>
                </li>
                <li class="fragment">Workflow-as-code
                    <aside class="notes" data-markdown>
- Define actions in YAML files in your repo.
                    </aside>
                </li>
                <li class="fragment">Marketplace of actions
                    <aside class="notes" data-markdown>
- Reuse community-contributed steps and workflows.
                    </aside>
                </li>
            </ul>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- OneKey -->
        <section id="OneKey">
            <h1>OneKey</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- data validation - strong typing -->
        <section id="data validation - strong typing">
            <h1>data validation - strong typing</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- schema-to-types -->
        <section id="schema-to-types">
            <h1>schema-to-types</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- JSON schemas -->
        <section id="JSON schemas">
            <h1>JSON Schemas</h1>
            <ul>
                <li class="fragment">Describe JSON structure
                    <aside class="notes" data-markdown>
- Use a schema to define required fields and types.
                    </aside>
                </li>
                <li class="fragment">Validate data
                    <aside class="notes" data-markdown>
- Automatic validation against the schema.
                    </aside>
                </li>
                <li class="fragment">Documentation and tools
                    <aside class="notes" data-markdown>
- Many libraries generate docs and code from schemas.
                    </aside>
                </li>
            </ul>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- consulting -->
        <section id="consulting">
            <h1>consulting</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- waterspot-catalog -->
        <section id="waterspot-catalog">
            <h1>waterspot-catalog</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- a-place-to-live -->
        <section id="a-place-to-live">
            <h1>a-place-to-live</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- üè° buy a house -->
        <section id="üè° buy a house">
            <h1>üè° buy a house</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- 2024 -->
        <section id="2024" data-visibility="hidden">
            <h1>2024</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- open graph -->
        <section id="open graph">
            <h1>open graph</h1>
            <pre>
                <code data-trim class="language-xml" data-line-numbers="1|3|5-9|10|12-16">
                    <script type="text/template">
<head>

    <title>Duotone - P√©tole</title>

    <meta property="og:title" content="Duotone">
    <meta property="og:description" content="All info about Duotone and its gear catalog are on P√©tole">
    <meta property="og:url" content="https://www.petole.net/gear/duotone">
    <meta property="og:site_name" content="P√©tole">
    <meta property="og:image:url"
          content="https://ik.imagekit.io/zef/tr:n-ik_ml_thumbnail/gear/duotone/valve-autocollante-duotone-reparation-kitesurf-jpg">

    <meta property="twitter:title" content="Duotone">
    <meta property="twitter:description" content="All info about Duotone and its gear catalog are on P√©tole">
    <meta property="twitter:site" content="https://www.petole.net">
    <meta property="twitter:image"
          content="https://ik.imagekit.io/zef/tr:n-ik_ml_thumbnail/gear/duotone/valve-autocollante-duotone-reparation-kitesurf-jpg">

                </script>
                </code>
            </pre>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- server side rendering -->
        <section id="SSR">
            <h1>server side rendering</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- Dev lead -->
        <section id="Dev lead">
            <h1>Dev lead</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- 2025 -->
        <section id="2025">
            <h1>2025</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- talk -->
        <section id="talk">
            <h1>talk</h1>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- reveal.js -->
        <section id="reveal.js">
            <h1>reveal.js</h1>
            <ul>
                <li class="fragment">HTML presentation framework
                    <aside class="notes" data-markdown>
- Build slides using HTML, CSS, and JavaScript.
                    </aside>
                </li>
                <li class="fragment">Plugin ecosystem
                    <aside class="notes" data-markdown>
- Extend functionality with community plugins.
                    </aside>
                </li>
                <li class="fragment">Supports mobile and touch
                    <aside class="notes" data-markdown>
- Navigate slides on any device easily.
                    </aside>
                </li>
            </ul>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- emmet -->
        <section id="emmet">
            <h1>Emmet</h1>
            <ul>
                <li class="fragment">Abbreviation-based code expansion
                    <aside class="notes" data-markdown>
- Write short snippets that expand into HTML/CSS.
                    </aside>
                </li>
                <li class="fragment">Saves time editing code
                    <aside class="notes" data-markdown>
- Quickly scaffold boilerplate structures.
                    </aside>
                </li>
                <li class="fragment">Supported in major editors
                    <aside class="notes" data-markdown>
- Available in VSCode, Atom, Sublime, and more.
                    </aside>
                </li>
            </ul>

            <pre>
                <code>
                    ul>(li.fragment>aside.notes[data-markdown])*3
                </code>
            </pre>

        </section>

        <!-- SECTION ------------------------------------------------------------------------------- mermaid.js -->
        <section id="mermaid.js">
            <h1>mermaid.js</h1>
            <ul>
                <li class="fragment">Generate diagrams from text
                    <aside class="notes" data-markdown>
- Write simple code to create flowcharts and more.
                    </aside>
                </li>
                <li class="fragment">Integrates with Markdown
                    <aside class="notes" data-markdown>
- Embed diagrams in docs and slides seamlessly.
                    </aside>
                </li>
                <li class="fragment">Supports multiple diagram types
                    <aside class="notes" data-markdown>
- Flowcharts, sequence diagrams, class diagrams, etc.
                    </aside>
                </li>
            </ul>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- sozi -->
        <section id="sozi">
            <h1>Sozi</h1>
            <ul>
                <li class="fragment">SVG-based presentation tool
                    <aside class="notes" data-markdown>
- Create animated zooming presentations from SVG.
                    </aside>
                </li>
                <li class="fragment">Allows free camera movement
                    <aside class="notes" data-markdown>
- Define paths and transitions in vector graphics.
                    </aside>
                </li>
                <li class="fragment">Open-source and customizable
                    <aside class="notes" data-markdown>
- Modify the presentation as easily as editing SVG.
                    </aside>
                </li>
            </ul>
        </section>

        <!-- SECTION ------------------------------------------------------------------------------- üé§ futurise -->
        <section id="üé§ futurise">
            <h1>üé§ futurise</h1>

        </section>
    </div>
</div>

<script src="dist/reveal.js"></script>
<script src="plugin/notes/notes.js"></script>
<script src="plugin/highlight/highlight.js"></script>
<script src="plugin/reveal-onetimer/onetimer.js"></script>
<script src="node_modules/reveal.js-menu/menu.js"></script>

<script>
    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.initialize({
        hash: true,
        loop: false,

        // Because when reducing the iframe to the small preview, it switches automatically to scroll view
        scrollActivationWidth: null,

        transition: 'fade',
        transitionSpeed: 'fast',

        navigationMode: 'linear',

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [
            RevealHighlight,
            RevealNotes,
            RevealMenu,
            // OneTimer // FIXME activate for presentation
        ],

        menu: {
            themes: true, // Enables the theme switcher
            transitions: false, // Optional: enable transition switcher
            side: 'right',
            width: 'normal',
            openButton: false,
        }

    });
</script>
</body>
</html>
